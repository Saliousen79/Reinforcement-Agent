<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Dashboard Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .success { color: green; }
        .error { color: red; }
        .info { color: blue; }
        pre {
            background: #eee;
            padding: 10px;
            border-radius: 5px;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <h1>Dashboard Test</h1>
    <div id="status">Teste Verbindung...</div>
    <div id="result"></div>

    <h2>Pfad-Informationen:</h2>
    <pre id="paths"></pre>

    <h2>Erwartete Dateien:</h2>
    <ul>
        <li><a href="index.html">dashboard/index.html</a></li>
        <li><a href="dashboard.js">dashboard/dashboard.js</a></li>
        <li><a href="data/training_logs.json">dashboard/data/training_logs.json</a></li>
    </ul>

    <script>
        const pathsDiv = document.getElementById('paths');
        const statusDiv = document.getElementById('status');
        const resultDiv = document.getElementById('result');

        // Zeige aktuelle Pfade
        pathsDiv.textContent = `
Current URL: ${window.location.href}
Base URL: ${window.location.origin}
Pathname: ${window.location.pathname}
        `.trim();

        // Teste ob training_logs.json geladen werden kann
        fetch('data/training_logs.json')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}`);
                }
                return response.json();
            })
            .then(data => {
                statusDiv.innerHTML = '<p class="success">✅ Dashboard Dateien erfolgreich geladen!</p>';
                resultDiv.innerHTML = `
                    <h3>Training Daten gefunden:</h3>
                    <pre>${JSON.stringify(data, null, 2).substring(0, 500)}...</pre>
                    <p><strong>Timesteps:</strong> ${data.timesteps ? data.timesteps.length : 0}</p>
                    <p><strong>Mean Rewards:</strong> ${data.mean_reward ? data.mean_reward.length : 0}</p>
                    <p class="success"><a href="index.html">→ Zum Dashboard</a></p>
                `;
            })
            .catch(error => {
                statusDiv.innerHTML = '<p class="error">❌ Fehler beim Laden</p>';
                resultDiv.innerHTML = `
                    <p class="error"><strong>Error:</strong> ${error.message}</p>
                    <p class="info">Mögliche Lösungen:</p>
                    <ol>
                        <li>Stelle sicher, dass der HTTP Server im Projekt-Root läuft</li>
                        <li>Öffne die Konsole (F12) für mehr Details</li>
                        <li>Prüfe ob data/training_logs.json existiert</li>
                    </ol>
                `;
            });
    </script>
</body>
</html>
